{"version":3,"sources":["Components/ErrorScreen/dead-error.svg","MainPage/Top/SearchBar/Search/Search.js","Api/Utils/DebounceFunction.js","MainPage/Top/SearchBar/SearchBar.js","MainPage/Top/Logo/Logo.js","MainPage/MainPageContext.js","MainPage/Top/Top.js","Components/Rating/Rating.js","MainPage/Content/Sidebar/BookPreview/BookPreview.js","MainPage/Content/Sidebar/Filters/Filter/Filter.js","Components/Loader/Loader.js","MainPage/Content/Sidebar/Filters/Filters.js","MainPage/Content/Sidebar/Sidebar.js","Components/Authors/Authors.js","MainPage/Content/BooksList/Book/Book.js","Components/ErrorScreen/ErrorScreen.js","MainPage/Content/BooksList/BooksList.js","MainPage/Content/BooksToolbar/SortBy/SortBy.js","MainPage/Content/BooksToolbar/Total/Total.js","MainPage/Content/BooksToolbar/BooksToolbar.js","Components/Pagination/Pagination.js","MainPage/Content/BooksFooter/BooksFooter.js","MainPage/Content/Content.js","Api/Services/GoogleBookService.js","Components/ErrorBoundary/ErrorBoundary.js","MainPage/MainPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","term","handleSubmit","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","setTimeout","apply","debounce","bind","assertThisInitialized","_this2","react_default","a","createElement","className","role","aria-label","onSubmit","e","preventDefault","title","type","spellCheck","aria-required","placeholder","value","onChange","event","setState","target","searchBooks","Component","SearchBar","Search_Search_Search","Logo","MainPageContext","React","createContext","ids","books","size","order","filters","filter","current","pageSize","currentPage","total","paging","actions","changeCurrent","filterBooks","sortBooks","changePage","Top","Logo_Logo","MainPage_MainPageContext","Consumer","_ref","SearchBar_SearchBar_SearchBar","Rating","rating","ratingWidth","style","width","concat","aria-hidden","BookPreview","_props$current","year","thumbnail","subtitle","authors","description","previewLink","authorsList","map","author","index","key","tabIndex","src","window","location","href","alt","rel","arial-level","Rating_Rating","Filter","active","_this$props","f","ami","Fragment","onClick","Loader","message","Filters","length","Filter_Filter","assign","Sidebar","lowResDevice","matchMedia","matches","Filters_Filters","BookPreview_BookPreview","Authors","auths","details","Book","id","onSelect","Authors_Authors","ErrorScreen","image","BooksList","error","ErrorScreen_ErrorScreen","Book_Book","SortBy","Total","BooksToolbar","Total_Total","SortBy_SortBy","Pagination","pagesCount","Math","ceil","pages","_loop","curr","parseInt","push","BooksFooter","Pagination_Pagination","Content","Sidebar_Sidebar","BooksToolbar_BooksToolbar","BooksList_BooksList_BooksList","BooksFooter_BooksFooter","GoogleBookService","url","query","from","params","method","headers","Content-Type","mode","fetch","then","response","json","result","items","Error","Set","book","includes","rnum","floor","random","toString","simpleBook","createSimpleBook","add","totalItems","Array","sort","_book$volumeInfo","volumeInfo","publishedDate","averageRating","imageLinks","smallThumbnail","split","ErrorBoundary","errorInfo","children","MainPage","page","service","getBooks","Provider","Top_Top","ErrorBoundary_ErrorBoundary","Content_Content","objectSpread","original","_context","t0","values","b","_this3","_this$state","offset","r","App","MainPage_MainPage_MainPage","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"oFAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,qoBCGnBC,cACjB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CAAEC,KAAM,IACrBR,EAAKS,aCPN,SAAkBC,EAAMC,EAAMC,GACjC,IAAIC,EACJ,OAAO,WACH,IAAMC,EAAUX,KACZY,EAAOC,UAKLC,EAAUL,IAAcC,EAC9BK,aAAaL,GACbA,EAAUM,WANI,WACVN,EAAU,KACLD,GAAWF,EAAKU,MAAMN,EAASC,IAIZJ,GACxBM,GAASP,EAAKU,MAAMN,EAASC,IDLbM,CAASrB,EAAKS,aAAaa,KAAlBrB,OAAAsB,EAAA,EAAAtB,QAAAsB,EAAA,EAAAtB,CAAAD,KAA8B,KAH5CA,wEAKV,IAAAwB,EAAArB,KACL,OACIsB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAAA,QAAME,KAAK,SAASC,aAAW,yBAAyBC,SAAU,SAACC,GAAD,OAAMA,EAAEC,mBACtER,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mBACZH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mBAEjBH,EAAAC,EAAAC,cAAA,SACIO,MAAM,wBACNN,UAAU,gBACVO,KAAK,OACLC,WAAW,QACXC,gBAAc,QACdC,YAAY,0BACZC,MAAOpC,KAAKI,MAAMC,KAClBgC,SAAU,SAAAC,GACNjB,EAAKkB,SAAS,CAAElC,KAAMiC,EAAME,OAAOJ,QACnCf,EAAKf,aAAagC,6CAQ7BA,GACTtC,KAAKJ,MAAM6C,YAAYzC,KAAKI,MAAMC,aAhCNqC,aEAfC,0LAEjB,OACErB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACoB,EAAW5C,KAAKJ,eAJc8C,oBCDxB,SAASG,IACtB,OACEvB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBADf,SCFJ,IAsBeqB,EAtBOC,IAAMC,cAAc,CACtCC,IAAK,GACLC,MAAO,GACPC,KAAM,EACNC,MAAO,MACPC,QAAS,GACTC,OAAQ,KACRjD,KAAM,GACNkD,QAAS,KACTC,SAAU,GACVC,YAAa,EACbC,MAAO,EACPC,QAAQ,EACRC,QAAS,CACLnB,YAAa,aACboB,cAAe,aACfC,YAAa,aACbC,UAAW,aACXC,WAAY,gBCfL,SAASC,IACtB,OACE3C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAC0C,EAAD,MACA5C,EAAAC,EAAAC,cAAC2C,EAAgBC,SAAjB,KACG,SAAAC,GAAkC,IAApB5B,EAAoB4B,EAA/BT,QAAWnB,YACb,OAAOnB,EAAAC,EAAAC,cAAC8C,EAAc,CAAE7B,2CCRnB,SAAS8B,EAAO3E,GAAO,IAC5B4E,EAAW5E,EAAX4E,OACJC,EAAcD,EAAkB,GAATA,EAAc,EACzC,OACElD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASM,MAAO,iBAAmByC,GAAkB,MAAQ,UAC1ElD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAeiD,MAAO,CAAEC,MAAK,GAAAC,OAAKH,EAAL,OAC3CnD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,SACtCvD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,SACtCvD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,SACtCvD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,SACtCvD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,UAExCvD,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBACdH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,SACtCvD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,SACtCvD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,SACtCvD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,SACtCvD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaoD,cAAY,YClBjC,SAASC,EAAYlF,GAChC,GAAIA,EAAM2D,QAAS,KAAAwB,EAUXnF,EAAM2D,QARNyB,EAFWD,EAEXC,KACAC,EAHWF,EAGXE,UACAlD,EAJWgD,EAIXhD,MACAmD,EALWH,EAKXG,SACAC,EANWJ,EAMXI,QACAC,EAPWL,EAOXK,YACAZ,EARWO,EAQXP,OACAa,EATWN,EASXM,YAEEC,EACFH,GACAA,EAAQI,IAAI,SAACC,EAAQC,GACjB,OACInE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuBiE,IAAKD,GACtCD,KAIjB,OACIlE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAekE,SAAS,KACnCrE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,sBAAsBuD,GACtC1D,EAAAC,EAAAC,cAAA,OACIC,UAAU,wBACVmE,IACIX,GAAS,GAAAL,OAEAiB,OAAOC,SAASC,KAFhB,iBAIbC,IAAKjE,IAETT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,8BACZH,EAAAC,EAAAC,cAAA,KACIuE,KAAMV,EACNtD,MAAM,gCACNS,OAAO,SACPyD,IAAI,uBAEJ3E,EAAAC,EAAAC,cAAA,KAAGC,UAAU,+BAGrBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBAAsBE,aAAW,cAC1CI,EACDT,EAAAC,EAAAC,cAAA,SAAO0E,cAAY,KAAKhB,IAE5B5D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBAAyB6D,GACxChE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAC2E,EAAW,CAAE3B,YAElBlD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BAA6B2D,IAIxD,OAAO9D,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mBAAb,8BCxDU2E,cACnB,SAAAA,EAAYxG,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoG,IACjBvG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsG,GAAAjG,KAAAH,KAAMJ,KACDQ,MAAQ,CAAEiG,QAAQ,GAFNxG,wEAIV,IAAAwB,EAAArB,KAAAsG,EACyBtG,KAAKJ,MAA7B2G,EADDD,EACCC,EAAGC,EADJF,EACIE,IAAK1C,EADTwC,EACSxC,YAChB,OACExC,EAAAC,EAAAC,cAACF,EAAAC,EAAMkF,SAAP,KACEnF,EAAAC,EAAAC,cAAA,MACEC,UACE,kCACC+E,EAAM,0CAA4C,KAGrDlF,EAAAC,EAAAC,cAAA,KACEO,MAAOyE,EAAM,6BAA+B,qBAC5CT,KAAK,SACLW,QAAS,SAAA7E,GACP,IAAMwE,IAAWhF,EAAKjB,MAAMiG,QAAUG,GACtCnF,EAAKkB,SAAS,CAAE8D,WAChBxE,EAAEC,iBACFgC,EAAYuC,EAASE,EAAI,QAG1BA,YAzBuB7D,aCArB,SAASiE,EAAO/G,GAC7B,OACE0B,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gCADf,IACmD7B,EAAMgH,SAAW,cCDzD,SAASC,EAAQjH,GAAO,IAC7B0D,EAAiC1D,EAAjC0D,OAAQD,EAAyBzD,EAAzByD,QAASS,EAAgBlE,EAAhBkE,YACzB,OACExC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAAA,MAAImE,SAAS,IAAIhE,aAAW,+EAC1BL,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBADf,cAGAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,0BACV4B,GAAWA,EAAQyD,OAAQ,GAC3BzD,EAAQkC,IAAI,SAAAgB,GACV,OACEjF,EAAAC,EAAAC,cAACuF,EAADjH,OAAAkH,OAAA,CAAQtB,IAAKa,GAAO,CAAEA,IAAGC,IAAKlD,IAAWiD,EAAGzC,oBAEzCxC,EAAAC,EAAAC,cAACmF,EAAD,CAAQC,QAAQ,yBCZlB,SAASK,IACpB,IAAMC,EAAerB,OAAOsB,YAActB,OAAOsB,WAAW,sBAAsBC,QAClF,OACI9F,EAAAC,EAAAC,cAAC2C,EAAgBC,SAAjB,KACK,SAAAC,GAA4D,IAAzDf,EAAyDe,EAAzDf,OAAQD,EAAiDgB,EAAjDhB,QAAoBS,EAA6BO,EAAxCT,QAAWE,YAAeP,EAAcc,EAAdd,QAC3C,OACIjC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+BACXH,EAAAC,EAAAC,cAAC6F,EAAY,CAAE/D,SAAQD,UAASS,iBAElCoD,EAIE,KAHA5F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAC8F,EAAgB,CAAE/D,4BCfpC,SAASgE,EAAQ3H,GAC9B,IAAM4H,EAAQ5H,EAAMuF,QAChBsC,EAAU,KAMd,OALID,GAASA,EAAMV,OAAS,IAC1BW,EAAU7H,EAAMuF,QAAQ,GACxBsC,GAAWD,EAAMV,QAAS,EAAf,KAAAlC,OAAwBhF,EAAMuF,QAAQ2B,OAAQ,GAAM,IAG1DW,EAAUnG,EAAAC,EAAAC,cAACF,EAAAC,EAAMkF,SAAP,KAAiBgB,GAA4B,KCLjD,SAASC,EAAK9H,GAAO,IAE5B+H,EAQA/H,EARA+H,GACA5F,EAOAnC,EAPAmC,MACAoD,EAMAvF,EANAuF,QACAC,EAKAxF,EALAwF,YACAJ,EAIApF,EAJAoF,KACAR,EAGA5E,EAHA4E,OACAS,EAEArF,EAFAqF,UACAI,EACAzF,EADAyF,YAEE6B,EAAerB,OAAOsB,YAActB,OAAOsB,WAAW,sBAAsBC,QAClF,OACI9F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOkE,SAAS,KAC3BrE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcuD,GAAc,QAC5C1D,EAAAC,EAAAC,cAAA,OACIC,UAAU,gBACVmE,IACIX,GAAS,GAAAL,OAEAiB,OAAOC,SAASC,KAFhB,iBAIbC,IAAKjE,EACL2E,QAAS,WACL9G,EAAMgI,SAASD,MAGtBT,EACG5F,EAAAC,EAAAC,cAAA,QAAMC,UAAU,yBACZH,EAAAC,EAAAC,cAAA,KACIuE,KAAMV,EACNtD,MAAM,gCACNS,OAAO,SACPyD,IAAI,uBAEJ3E,EAAAC,EAAAC,cAAA,KAAGC,UAAU,+BAGrB,KACJH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeM,GAC7BT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACXH,EAAAC,EAAAC,cAACqG,EAAY,CAAE1C,aAEnB7D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAC2E,EAAW,CAAE3B,YAEjB0C,EACG5F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAqB2D,GACpC,uCClDD,SAAS0C,EAAYlI,GAChC,OACI0B,EAAAC,EAAAC,cAAA,WAASC,UAAU,gBACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoBmE,IAAKmC,IAAO/B,IAAKpG,EAAMgH,UAC1DtF,EAAAC,EAAAC,cAAA,SACK5B,EAAMgH,cCDFoB,cACjB,SAAAA,EAAYpI,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgI,IACfnI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkI,GAAA7H,KAAAH,KAAMJ,KAEDQ,MAAQ,CACT8C,MAAO,IAJIrD,wEASf,OACIyB,EAAAC,EAAAC,cAAC2C,EAAgBC,SAAjB,KACK,SAAAC,GAA8D,IAA3D4D,EAA2D5D,EAA3D4D,MAAOhF,EAAoDoB,EAApDpB,IAAKC,EAA+CmB,EAA/CnB,MAAOQ,EAAwCW,EAAxCX,MAAkBG,EAAsBQ,EAAjCT,QAAWC,cAErC,OAAIoE,EACO3G,EAAAC,EAAAC,cAAC0G,EAAD,CAAatB,QAASqB,EAAMrB,UAInCtF,EAAAC,EAAAC,cAAA,WAASC,UAAU,cACdiC,EAAQ,EACLT,EAAIsC,IAAI,SAAAoC,GACJ,OACIrG,EAAAC,EAAAC,cAAC2G,EAADrI,OAAAkH,OAAA,CACItB,IAAKiC,GACDzE,EAAMyE,GAFd,CAGIC,SAAU,SAAAD,GAAE,OAAI9D,EAAc8D,SAK1CrG,EAAAC,EAAAC,cAACmF,EAAD,CAAQC,QAAQ,iCA/BTlE,mBCLxB,SAAS0F,EAAOxI,GAAO,IAC5BwD,EAAqBxD,EAArBwD,MAAOW,EAAcnE,EAAdmE,UACf,OACEzC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,UACEG,aAAsB,QAAVyB,EAAkB,yDAA0D,yDACxF3B,UAAW,8BAAgC2B,EAC3CsD,QAAS,kBAAM3C,EAAoB,QAAVX,EAAkB,OAAS,SAEpD9B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBALf,IAKqD,QAAV2B,EAAkB9B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,4BAAiCH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kCCT/G,SAAS4G,EAAMzI,GAC5B,OACI0B,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SAAhB,cAAoC7B,EAAMuD,KAA1C,OAAoDvD,EAAM8D,MAA1D,kBAAiFpC,EAAAC,EAAAC,cAAA,kBAAU5B,EAAMS,KAAhB,YCGxE,SAASiI,IACpB,OACIhH,EAAAC,EAAAC,cAAC2C,EAAgBC,SAAjB,KACK,SAAAC,GAAA,IAAGX,EAAHW,EAAGX,MAAOP,EAAVkB,EAAUlB,KAAMC,EAAhBiB,EAAgBjB,MAAO/C,EAAvBgE,EAAuBhE,KAAiB0D,EAAxCM,EAA6BT,QAAWG,UAAxC,OACGzC,EAAAC,EAAAC,cAAA,WAASC,UAAU,iBACfH,EAAAC,EAAAC,cAAC+G,EAAU,CAAE7E,QAAOP,OAAM9C,SAC1BiB,EAAAC,EAAAC,cAACgH,EAAW,CAAEpF,QAAOW,cACpBL,EAAQ,EACLpC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACXH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gCAAiC,IADlD,4DAKA,oBCjBT,SAASgH,EAAW7I,GAM/B,IANsC,IAC9B6D,EAAqD7D,EAArD6D,YAAaD,EAAwC5D,EAAxC4D,SAAUE,EAA8B9D,EAA9B8D,MAAOC,EAAuB/D,EAAvB+D,OAAQK,EAAepE,EAAfoE,WAExC0E,EAAahF,EAAQF,EAAWmF,KAAKC,KAAKlF,EAAQF,GAAY,EAEhEqF,EAAQ,GAL0BC,EAAA,SAM7BrD,GACL,IAAMsD,EAAOtD,EAAQ,EACfe,EAAMwC,SAASvF,KAAiBsF,EACtCF,EAAMI,KACF3H,EAAAC,EAAAC,cAAA,MACIkF,QAAS,WACL1C,EAAW+E,IAEfrD,IAAKqD,EACLtH,UACI,oBACC+E,EACK,4BACA,KAGT7C,GAAU6C,EAAMlF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gCAAmCsH,KAhBpEtD,EAAQ,EAAGA,EAAQiD,EAAYjD,IAASqD,EAAxCrD,GAoBT,OAAOnE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAcoH,GCxBxB,SAASK,IACpB,OACI5H,EAAAC,EAAAC,cAAA,WAASC,UAAU,gBACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACXH,EAAAC,EAAAC,cAAC2C,EAAgBC,SAAjB,KACK,SAAAC,GAMK,IALFb,EAKEa,EALFb,SACAC,EAIEY,EAJFZ,YACAC,EAGEW,EAHFX,MACAC,EAEEU,EAFFV,OACWK,EACTK,EADFT,QAAWI,WAEX,OACI1C,EAAAC,EAAAC,cAAC2H,EACO,CACA3F,WACAC,cACAC,QACAC,SACAK,mBClBrB,SAASoF,IACtB,OACE9H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SACfH,EAAAC,EAAAC,cAAC6H,EAAD,OAEF/H,EAAAC,EAAAC,cAAA,WAASC,UAAU,WACjBH,EAAAC,EAAAC,cAAC8H,EAAD,MACAhI,EAAAC,EAAAC,cAAC+H,EAAD,MACAjI,EAAAC,EAAAC,cAACgI,EAAD,YCfaC,aACjB,SAAAA,IAAe3J,OAAAC,EAAA,EAAAD,CAAAE,KAAAyJ,GACXzJ,KAAK0J,IAAM,8IAGAC,kHAAOC,iCAAK,EAAGzG,iCAAK,GACzB0G,EAAS,CACXC,OAAQ,MACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAM,iBAEWC,MAAK,GAAAtF,OACnB5E,KAAK0J,KADc9E,OACR+E,EADQ,gBAAA/E,OACYzB,EADZ,+BAAAyB,OAC8CgF,GAAQC,GAC9EM,KAAK,SAAAC,GACH,OAAOA,EAASC,oBAHdC,UAMKC,OAAiC,IAAxBD,EAAOC,MAAMzD,6BACvB,IAAI0D,MAAM,wDAMpB,IAHItH,EAAQ,GACRD,EAAM,GACNI,EAAU,IAAIoH,IACThF,EAAQ,EAAGA,EAAQ6E,EAAOC,MAAMzD,OAAQrB,IACvCiF,EAAOJ,EAAOC,MAAM9E,GACtBkC,EAAK+C,EAAK/C,GAEX1E,EAAI0H,SAAShD,KACNiD,EAAOjC,KAAKkC,MAAsB,IAAhBlC,KAAKmC,UAAiBC,SAAS,IACvDpD,GAAUiD,EACVF,EAAK/C,GAAKA,GAEd1E,EAAIgG,KAAKtB,IAEHqD,EAAahL,KAAKiL,iBAAiBP,IAC1B1F,MACX3B,EAAQ6H,IAAIF,EAAWhG,MAE3B9B,EAAMyE,GAAMqD,2BAGT,CACH/H,MACAC,QACAC,KAAMF,EAAI6D,OACVpD,MAAO4G,EAAOa,WACd9H,QAAS+H,MAAMxB,KAAKvG,GAASgI,OAC7B9H,QAASL,EAAMD,EAAI,mJAIVyH,GAAM,IAEf/C,EAWA+C,EAXA/C,GAFe2D,EAafZ,EAVAa,WACIxJ,EAJWuJ,EAIXvJ,MACAmD,EALWoG,EAKXpG,SACAC,EANWmG,EAMXnG,QACAC,EAPWkG,EAOXlG,YACAoG,EARWF,EAQXE,cACehH,EATJ8G,EASXG,cACAC,EAVWJ,EAUXI,WACArG,EAXWiG,EAWXjG,YAIJJ,EAAYyG,EAAaA,EAAWC,eAAiB,KAEzD,MAAO,CACHhE,KACA5F,QACAmD,WACAC,UACAC,cACAJ,KAAMwG,GAAiBA,EAAcI,MAAM,KAAK,GAChDpH,SACAS,YACAI,wBC7ESwG,cACjB,SAAAA,EAAYjM,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6L,IACfhM,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+L,GAAA1L,KAAAH,KAAMJ,KACDQ,MAAQ,CAAE6H,MAAO,KAAM6D,UAAW,MAFxBjM,iFAKDoI,EAAO6D,GACrB9L,KAAKuC,SAAS,CACV0F,MAAOA,EACP6D,UAAWA,qCAKf,OAAI9L,KAAKI,MAAM0L,UAEPxK,EAAAC,EAAAC,cAAC0G,EAAD,CACItB,QAAS5G,KAAKI,MAAM6H,OAASjI,KAAKI,MAAM6H,MAAM8C,aAInD/K,KAAKJ,MAAMmM,gBArBiBrJ,aCItBsJ,cACjB,SAAAA,EAAYpM,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgM,IACfnM,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkM,GAAA7L,KAAAH,KAAMJ,KAEDQ,MAAQ,CACT6C,IAAK,GACLC,MAAO,GACPC,KAAM,EACNC,MAAO,MACPC,QAAS,GACTC,OAAQ,KACRjD,KAAM,oBACNkD,QAAS,KACTC,SAAU,GACVC,YAAa,EACbC,MAAO,EACPC,QAAQ,EACRC,QAAS,CACLnB,YAAa,SAAApC,GAAI,OAAIR,EAAK4C,YAAYpC,IACtCwD,cAAe,SAAA8D,GAAE,OAAI9H,EAAKgE,cAAc8D,IACxC7D,YAAa,SAAAkB,GAAI,OAAInF,EAAKiE,YAAYkB,IACtCjB,UAAW,SAAAX,GAAK,OAAIvD,EAAKkE,UAAUX,IACnCY,WAAY,SAAAiI,GAAI,OAAIpM,EAAKmE,WAAWiI,KAExChE,MAAO,MAEXpI,EAAKqM,QAAU,IAAIzC,EAzBJ5J,mFA6BfG,KAAKmM,SAASnM,KAAKI,MAAMC,uCAGzB,OACIiB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aACZH,EAAAC,EAAAC,cAAC2C,EAAgBiI,SAAjB,CAA0BhK,MAAOpC,KAAKI,OAClCkB,EAAAC,EAAAC,cAAC6K,EAAD,MACA/K,EAAAC,EAAAC,cAAC8K,EAAD,KACIhL,EAAAC,EAAAC,cAAC+K,EAAD,+CAON5E,GACV3H,KAAKuC,SAAS,CAAEgB,QAASvD,KAAKI,MAAM8C,MAAMyE,yCAGlCtH,GACRL,KAAKuC,SAAS,CAAEkB,YAAa,IAC7BzD,KAAKmM,SAAS9L,4EAGHA,4FAAMuJ,iCAAO,EAAGzG,iCAAO,GAC7B9C,yBACDL,KAAKuC,SAAS,CACVY,KAAM,EACN8E,MAAO,CAAErB,QAAS,oEAI1B5G,KAAKuC,SAAS,CAAElC,OAAM4H,MAAO,yBAEJjI,KAAKkM,QAAQC,SAAS9L,EAAMuJ,EAAMzG,iBAAjDmH,SACNtK,KAAKuC,SAALzC,OAAA0M,EAAA,EAAA1M,CAAA,GAAmBwK,IACnBtK,KAAKyM,SAAW,CAAExJ,IAAKqH,EAAOrH,wBACvB,4CAEPjD,KAAKuC,SAAS,CAAEY,KAAM,EAAGO,MAAO,EAAGuE,MAAKyE,EAAAC,wBACjC,oJAIHvK,GAAO,IAAAf,EAAArB,KACf,GAAIA,KAAKI,MAAM+C,KAAO,EAAG,CACrB,IAAMF,EAAMjD,KAAKyM,SAASxJ,IAAIK,OAAO,SAAAqE,GACjC,IAAM+C,EAAOrJ,EAAKjB,MAAM8C,MAAMyE,GAC9B,OAAO+C,EAAK1F,OAAS0F,EAAK1F,OAAS5C,GAAmB,OAAVA,KAEhDpC,KAAKuC,SAAS,CACVU,MACAE,KAAMF,EAAI6D,OACVvD,QAASvD,KAAKI,MAAM8C,MAAMD,EAAI,IAC9BK,OAAQlB,uCAKVgB,GACNpD,KAAKuC,SAAS,CAAEa,UAChB,IAAIH,EAAMjD,KAAKI,MAAM6C,IACfC,EAAQpD,OAAO8M,OAAO5M,KAAKI,MAAM8C,OAAOI,OAAO,SAAAoH,GAAI,OACrDzH,EAAI0H,SAASD,EAAK/C,MAGtBzE,EAAMmI,KAAK,SAAC9J,EAAGsL,GACX,MAAc,QAAVzJ,EACO7B,EAAEyD,KAAO6H,EAAE7H,MAAQ,EAAI,EAEvBzD,EAAEyD,KAAO6H,EAAE7H,MAAQ,EAAI,IAGtC/B,EAAMC,EAAMqC,IAAI,SAAAmF,GAAI,OAAIA,EAAK/C,KAC7B3H,KAAKuC,SAAS,CAAEU,2CAGTQ,GAAa,IAAAqJ,EAAA9M,KAAA+M,EACO/M,KAAKI,MAAxBC,EADY0M,EACZ1M,KAAMmD,EADMuJ,EACNvJ,SACdxD,KAAKuC,SAAS,CAAEkB,cAAaE,QAAQ,IACrC,IAAMqJ,GAAUvJ,EAAc,GAAKD,EAC7BoG,EAAkB,IAAXoD,EAAe,EAAI,EAAIA,EACpChN,KAAKmM,SAAS9L,EAAMuJ,EAAMpG,GAAU2G,KAAK,SAAA8C,GACrCH,EAAKvK,SAAS,CAAEoB,QAAQ,aAjHEjB,aCOvBwK,mLARX,OACE5L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAC2L,EAAD,cAJQzK,aCQE0K,QACW,cAA7BvH,OAAOC,SAASuH,UAEe,UAA7BxH,OAAOC,SAASuH,UAEhBxH,OAAOC,SAASuH,SAASC,MACvB,2DCZNC,IAASC,OAAOlM,EAAAC,EAAAC,cAACiM,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM3D,KAAK,SAAA4D,GACjCA,EAAaC","file":"static/js/main.c245eca6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dead-error.d208d3f9.svg\";","import React, { Component } from \"react\";\nimport \"./Search.css\";\nimport { debounce } from \"../../../../Api/Utils/DebounceFunction\";\nexport default class Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { term: \"\" };\n        this.handleSubmit = debounce(this.handleSubmit.bind(this), 300);\n    }\n    render() {\n        return (\n            <div className=\"search\">\n                <form role=\"search\" aria-label=\"Search at Google Books\" onSubmit={(e)=> e.preventDefault()}>\n                    <span className=\"search__prepend\">\n                        <i className=\"fas fa-search\" />\n                    </span>\n                    <input\n                        title=\"Type your search term\"\n                        className=\"search__input\"\n                        type=\"text\"\n                        spellCheck=\"false\"\n                        aria-required=\"false\"\n                        placeholder=\"Type your search term..\"\n                        value={this.state.term}\n                        onChange={event => {\n                            this.setState({ term: event.target.value });\n                            this.handleSubmit(event);\n                        }}\n                    />\n                </form>\n            </div>\n        );\n    }\n\n    handleSubmit(event) {\n        this.props.searchBooks(this.state.term);\n    }\n}\n","export function debounce(func, wait, immediate) {\n    let timeout;\n    return function() {\n        const context = this,\n            args = arguments;\n        const later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        const callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n}\n","import React, { Component } from \"react\";\nimport Search from \"./Search/Search\";\nimport \"./SearchBar.css\";\nexport default class SearchBar extends Component {\n  render() {\n    return (\n      <div className=\"searchbar\">\n        <Search {...this.props} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Logo.css\";\nexport default function Logo() {\n  return (\n    <div className=\"logo\">\n      <i className=\"fas fa-book\" />\n       Goobo\n    </div>\n  );\n}\n","import React from \"react\";\n\nlet MainPageContext = React.createContext({\n    ids: [],\n    books: {},\n    size: 0,\n    order: \"asc\",\n    filters: [],\n    filter: null,\n    term: \"\",\n    current: null,\n    pageSize: 40,\n    currentPage: 1,\n    total: 0,\n    paging: false,\n    actions: {\n        searchBooks: () => {},\n        changeCurrent: () => {},\n        filterBooks: () => {},\n        sortBooks: () => {},\n        changePage: () => {}\n    }\n});\n\nexport default MainPageContext;\n","import React from \"react\";\nimport \"./Top.css\";\nimport SearchBar from \"./SearchBar/SearchBar\";\nimport Logo from \"./Logo/Logo\";\nimport MainPageContext from \"./../MainPageContext\";\nexport default function Top() {\n  return (\n    <div className=\"top\">\n      <Logo />\n      <MainPageContext.Consumer>\n        {({ actions: { searchBooks } }) => {\n          return <SearchBar {...{ searchBooks }} />;\n        }}\n      </MainPageContext.Consumer>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./Rating.css\";\n\nexport default function Rating(props) {\n  const { rating } = props;\n  let ratingWidth = rating ? rating * 20 : 0;\n  return (\n    <div className=\"rating\" title={'Book rating: ' + (rating ? rating : '0 ') + ' stars'}>\n      <div className=\"rating-wrap\">\n        <span className=\"stars-active\" style={{ width: `${ratingWidth}%` }}>\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n        </span>\n        <span className=\"stars-inactive\">\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n        </span>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./BookPreview.css\";\nimport Rating from \"../../../../Components/Rating/Rating\";\nexport default function BookPreview(props) {\n    if (props.current) {\n        const {\n            year,\n            thumbnail,\n            title,\n            subtitle,\n            authors,\n            description,\n            rating,\n            previewLink\n        } = props.current;\n        const authorsList =\n            authors &&\n            authors.map((author, index) => {\n                return (\n                    <div className=\"book-preview__author\" key={index}>\n                        {author}\n                    </div>\n                );\n            });\n        return (\n            <div className=\"book-preview\" tabIndex=\"0\">\n                <span className=\"book-preview__year\">{year}</span>\n                <img\n                    className=\"book-preview__preview\"\n                    src={\n                        thumbnail\n                            ? thumbnail\n                            : `${window.location.href}/notfound.png`\n                    }\n                    alt={title}\n                />\n                <span className=\"book-preview__preview-link\">\n                    <a\n                        href={previewLink}\n                        title=\"Go to preview at Google Books\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        <i className=\"fas fa-external-link-alt\" />\n                    </a>\n                </span>\n                <h1 className=\"book-preview__title\" aria-label=\"Book Title\">\n                    {title}\n                    <small arial-level=\"2\">{subtitle}</small>\n                </h1>\n                <div className=\"book-preview__authors\">{authorsList}</div>\n                <div className=\"book-preview__rating\">\n                    <Rating {...{ rating }} />\n                </div>\n                <div className=\"book-preview__description\">{description}</div>\n            </div>\n        );\n    }\n    return <p className=\"no-book-preview\">No Book Selected</p>;\n}\n","import React, { Component } from \"react\";\n\nexport default class Filter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { active: false };\n  }\n  render() {\n    const { f, ami, filterBooks } = this.props;\n    return (\n      <React.Fragment>\n        <li\n          className={\n            \"sidebar__books-filters__filter\" +\n            (ami ? \" sidebar__books-filters__filter--active\" : \"\")\n          }\n        >\n          <a\n            title={ami ? \"Click again to unselect me\" : \"Click to select me\"}\n            href=\"#click\"\n            onClick={e => {\n              const active = !(this.state.active && ami);\n              this.setState({ active });\n              e.preventDefault();\n              filterBooks(active ? f : null);\n            }}\n          >\n            {f}\n          </a>\n        </li>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react'\n\nexport default function Loader(props) {\n  return (\n    <span>\n      <i className=\"fas fa-circle-notch fa-spin\"></i> {props.message || 'Loading...'}\n    </span>\n  )\n}\n","import React from \"react\";\nimport \"./Filters.css\";\nimport Filter from \"./Filter/Filter\";\nimport Loader from \"../../../../Components/Loader/Loader\";\nexport default function Filters(props) {\n  const { filter, filters, filterBooks } = props;\n  return (\n    <div className=\"sidebar__books-filters-container\">\n      <h4 tabIndex=\"0\" aria-label=\"List with years filter, navigate with keyboard and hit neter to select one.\">\n        <i className=\"fas fa-filter\" /> Show only\n      </h4>\n      <ul className=\"sidebar__books-filters\">\n        {(filters && filters.length >0 &&\n          filters.map(f => {\n            return (\n              <Filter key={f} {...{ f, ami: filter === f, filterBooks }} />\n            );\n          })) || <Loader message=\"Loading filters...\"/>}\n      </ul>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./Sidebar.css\";\nimport BookPreview from \"./BookPreview/BookPreview\";\nimport Filters from \"./Filters/Filters\";\nimport MainPageContext from \"../../MainPageContext\";\nexport default function Sidebar() {\n    const lowResDevice = window.matchMedia && window.matchMedia(\"(max-width: 991px)\").matches;\n    return (\n        <MainPageContext.Consumer>\n            {({ filter, filters, actions: { filterBooks }, current }) => {\n                return (\n                    <aside className=\"sidebar\">\n                        <div className=\"sidebar__books-filters-list\">\n                            <Filters {...{ filter, filters, filterBooks }} />\n                        </div>\n                        {!lowResDevice ? (\n                            <div className=\"sidebar__book-preview\">\n                                <BookPreview {...{ current }} />\n                            </div>\n                        ) : null}\n                    </aside>\n                );\n            }}\n        </MainPageContext.Consumer>\n    );\n}\n","import React from \"react\";\nimport \"./Authors.css\";\nexport default function Authors(props) {\n  const auths = props.authors;\n  let details = null;\n  if (auths && auths.length > 0) {\n    details = props.authors[0];\n    details += auths.length >=2 ? ` +${props.authors.length -1}` : \"\";\n  }\n\n  return details ? <React.Fragment>{details}</React.Fragment> : null;\n}\n","import React from \"react\";\nimport \"./Book.css\";\nimport Rating from \"../../../../Components/Rating/Rating\";\nimport Authors from \"../../../../Components/Authors/Authors\";\n\nexport default function Book(props) {\n    const {\n        id,\n        title,\n        authors,\n        description,\n        year,\n        rating,\n        thumbnail,\n        previewLink\n    } = props;\n    const lowResDevice = window.matchMedia && window.matchMedia(\"(max-width: 991px)\").matches;\n    return (\n        <div className=\"book\" tabIndex=\"0\">\n            <span className=\"book__year\">{year ? year : \"----\"}</span>\n            <img\n                className=\"book__preview\"\n                src={\n                    thumbnail\n                        ? thumbnail\n                        : `${window.location.href}/notfound.png`\n                }\n                alt={title}\n                onClick={() => {\n                    props.onSelect(id);\n                }}\n            />\n            {lowResDevice ? (\n                <span className=\"preview__preview-link\">\n                    <a\n                        href={previewLink}\n                        title=\"Go to preview at Google Books\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        <i className=\"fas fa-external-link-alt\" />\n                    </a>\n                </span>\n            ) : null}\n            <h2 className=\"book__title\">{title}</h2>\n            <div className=\"book__authors\">\n                <Authors {...{ authors }} />\n            </div>\n            <div className=\"book__rating\">\n                <Rating {...{ rating }} />\n            </div>\n            {lowResDevice ? (\n                <div className=\"book__description\">{description}</div>\n            ) : null}\n        </div>\n    );\n}\n","import React from \"react\";\nimport \"./ErrorScreen.css\";\nimport image from \"./dead-error.svg\";\nexport default function ErrorScreen(props) {\n    return (\n        <section className=\"error-screen\">\n            <img className=\"error-screen__img\" src={image} alt={props.message} />\n            <p>\n                {props.message} \n            </p>\n        </section>\n    );\n}\n","import React, { Component } from \"react\";\nimport Book from \"./Book/Book\";\nimport \"./BooksList.css\";\nimport Loader from \"../../../Components/Loader/Loader\";\nimport MainPageContext from \"../../MainPageContext\";\nimport ErrorScreen from \"../../../Components/ErrorScreen/ErrorScreen\";\n\nexport default class BooksList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            books: []\n        };\n    }\n\n    render() {\n        return (\n            <MainPageContext.Consumer>\n                {({ error, ids, books, total, actions: { changeCurrent } }) => {\n                    \n                    if (error) {\n                        return <ErrorScreen message={error.message}></ErrorScreen>;\n                    }\n\n                    return (\n                        <section className=\"books-list\">\n                            {total > 0 ? (\n                                ids.map(id => {\n                                    return (\n                                        <Book\n                                            key={id}\n                                            {...books[id]}\n                                            onSelect={id => changeCurrent(id)}\n                                        />\n                                    );\n                                })\n                            ) : (\n                                <Loader message=\"Searching books...\" />\n                            )}\n                        </section>\n                    );\n                }}\n            </MainPageContext.Consumer>\n        );\n    }\n}\n","import React from \"react\";\nimport \"./SortBy.css\";\nexport default function SortBy(props) {\n  const { order, sortBooks } = props;\n  return (\n    <div className=\"sort-by\">\n      <button\n        aria-label={order === \"asc\" ? 'ordered ascendant, click to order in descendant order.': 'ordered descendant, click to order in ascendant order.'}\n        className={\"sort-by__btn sort-by__btn--\" + order}\n        onClick={() => sortBooks(order === \"asc\" ? \"desc\" : \"asc\")}\n      >\n        <i className=\"fas fa-calendar-alt\"></i> {order === 'asc' ? <i className=\"fas fa-sort-amount-down\"></i> : <i className=\"fas fa-sort-amount-up\"></i>}\n      </button>\n    </div>\n  );\n}\n","import React from 'react'\nimport './Total.css';\nexport default function Total(props) {\n  return (\n      <span className=\"total\">Displaying {props.size} of {props.total} books for &nbsp;<strong>\"{props.term}\"</strong></span>\n  )\n}\n","import React from \"react\";\n\nimport MainPageContext from \"../../MainPageContext\";\nimport SortBy from \"./SortBy/SortBy\";\nimport Total from \"./Total/Total\";\nimport \"./BooksToolbar.css\";\n\nexport default function BooksToolbar() {\n    return (\n        <MainPageContext.Consumer>\n            {({ total, size, order, term, actions: { sortBooks } }) => (\n                <section className=\"books-toolbar\">\n                    <Total {...{ total, size, term }} />\n                    <SortBy {...{ order, sortBooks }} />\n                    {total > 0 ? (\n                        <div className=\"books-toolbar__disclaimer\">\n                            <i className=\"fas fa-exclamation-triangle\" />{\" \"}\n                            Disclaimer: Google Books API may return duplicated\n                            books\n                        </div>\n                    ) : null}\n                </section>\n            )}\n        </MainPageContext.Consumer>\n    );\n}\n","import React from \"react\";\nimport \"./Pagination.css\";\n\nexport default function Pagination(props) {\n    const { currentPage, pageSize, total, paging, changePage } = props;\n\n    const pagesCount = total > pageSize ? Math.ceil(total / pageSize) : 1;\n\n    let pages = [];\n    for (let index = 0; index < pagesCount; index++) {\n        const curr = index + 1;\n        const ami = parseInt(currentPage) === curr;\n        pages.push(\n            <li\n                onClick={() => {\n                    changePage(curr);\n                }}\n                key={curr}\n                className={\n                    \"pagination__page\" +\n                    (ami\n                        ? \" pagination__page--active\"\n                        : \"\")\n                }\n            >\n                {paging && ami ? <i className=\"fas fa-circle-notch fa-spin\" /> : curr}\n            </li>\n        );\n    }\n    return <ul className=\"pagination\">{pages}</ul>;\n}\n","import React from \"react\";\nimport \"./BooksFooter.css\";\nimport Pagination from \"../../../Components/Pagination/Pagination\";\nimport MainPageContext from \"../../MainPageContext\";\n\nexport default function BooksFooter() {\n    return (\n        <section className=\"books-footer\">\n            <div className=\"books-footer__pagination\">\n                <MainPageContext.Consumer>\n                    {({\n                        pageSize,\n                        currentPage,\n                        total,\n                        paging,\n                        actions: { changePage }\n                    }) => {\n                        return (\n                            <Pagination\n                                {...{\n                                    pageSize,\n                                    currentPage,\n                                    total,\n                                    paging,\n                                    changePage\n                                }}\n                            />\n                        );\n                    }}\n                </MainPageContext.Consumer>\n            </div>\n        </section>\n    );\n}\n","import React from \"react\";\nimport \"./Content.css\";\nimport Sidebar from \"./Sidebar/Sidebar\";\nimport BooksList from \"./BooksList/BooksList\";\nimport BooksToolbar from \"./BooksToolbar/BooksToolbar\";\nimport BooksFooter from \"./BooksFooter/BooksFooter\";\nexport default function Content() {\n  return (\n    <div className=\"content\">\n      <aside className=\"aside\">\n        <Sidebar />\n      </aside>\n      <article className=\"article\">\n        <BooksToolbar/>\n        <BooksList />\n        <BooksFooter/>\n      </article>\n    </div>\n  );\n}\n","export default class GoogleBookService {\n    constructor() {\n        this.url = \"https://www.googleapis.com/books/v1/volumes?q=\";\n    }\n\n    async getBooks(query, from=0, size=40) {\n        const params = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            mode: \"cors\"\n        };\n        const result = await fetch(\n            `${this.url}${query}&maxResults=${size}&orderBy=newest&startIndex=${from}`, params\n        ).then(response => {\n            return response.json();\n        });\n\n        if(!result.items || result.items.length === 0){\n            throw new Error(\"No books found, try with another search term.\");\n        }\n\n        let books = {};\n        let ids = [];\n        let filters = new Set();\n        for (let index = 0; index < result.items.length; index++) {\n            const book = result.items[index];\n            let id = book.id;\n            \n            if(ids.includes(id)){//Fix duplicated ids problem.\n                const rnum = Math.floor(Math.random() * 1000).toString(16);\n                id = id + rnum;\n                book.id = id;\n            }\n            ids.push(id);\n            \n            const simpleBook = this.createSimpleBook(book);\n            if (simpleBook.year) {\n                filters.add(simpleBook.year);\n            }\n            books[id] = simpleBook;\n        }\n        //ids = Array.from(ids);\n        return {\n            ids,\n            books,\n            size: ids.length,\n            total: result.totalItems,\n            filters: Array.from(filters).sort(),\n            current: books[ids[0]]\n        };\n    }\n\n    createSimpleBook(book) {\n        const {\n            id,\n            volumeInfo: {\n                title,\n                subtitle,\n                authors,\n                description,\n                publishedDate,\n                averageRating: rating,\n                imageLinks,\n                previewLink\n            }\n        } = book;\n\n        let thumbnail = imageLinks ? imageLinks.smallThumbnail : null;\n\n        return {\n            id,\n            title,\n            subtitle,\n            authors,\n            description,\n            year: publishedDate && publishedDate.split(\"-\")[0],\n            rating,\n            thumbnail,\n            previewLink\n        };\n    }\n}\n","import React, { Component } from \"react\";\nimport ErrorScreen from \"../ErrorScreen/ErrorScreen\";\n\nexport default class ErrorBoundary extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { error: null, errorInfo: null };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            error: error,\n            errorInfo: errorInfo\n        });\n    }\n\n    render() {\n        if (this.state.errorInfo) {\n            return (\n                <ErrorScreen\n                    message={this.state.error && this.state.error.toString()}\n                />\n            );\n        }\n        return this.props.children;\n    }\n}\n","import React, { Component } from \"react\";\nimport \"./MainPage.css\";\nimport Top from \"./Top/Top\";\nimport Content from \"./Content/Content\";\nimport GoogleBookService from \"../Api/Services/GoogleBookService\";\nimport MainPageContext from \"./MainPageContext\";\nimport ErrorBoundary from \"./../Components/ErrorBoundary/ErrorBoundary\";\nexport default class MainPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ids: [],\n            books: {},\n            size: 0,\n            order: \"asc\",\n            filters: [],\n            filter: null,\n            term: \"electric vehicles\",\n            current: null,\n            pageSize: 40,\n            currentPage: 1,\n            total: 0,\n            paging: false,\n            actions: {\n                searchBooks: term => this.searchBooks(term),\n                changeCurrent: id => this.changeCurrent(id),\n                filterBooks: year => this.filterBooks(year),\n                sortBooks: order => this.sortBooks(order),\n                changePage: page => this.changePage(page)\n            },\n            error: null\n        };\n        this.service = new GoogleBookService();\n    }\n\n    componentDidMount() {\n        this.getBooks(this.state.term);\n    }\n    render() {\n        return (\n            <main className=\"main-page\">\n                <MainPageContext.Provider value={this.state}>\n                    <Top />\n                    <ErrorBoundary>\n                        <Content />\n                    </ErrorBoundary>\n                </MainPageContext.Provider>\n            </main>\n        );\n    }\n\n    changeCurrent(id) {\n        this.setState({ current: this.state.books[id] });\n    }\n\n    searchBooks(term) {\n        this.setState({ currentPage: 1 });\n        this.getBooks(term);\n    }\n\n    async getBooks(term, from = 0, size = 40) {\n        if (!term) {\n            this.setState({\n                size: 0,\n                error: { message: \"Search term can not be empty.\" }\n            });\n            return;\n        }\n        this.setState({ term, error: null });\n        try {\n            const result = await this.service.getBooks(term, from, size);\n            this.setState({ ...result });\n            this.original = { ids: result.ids };\n            return true;\n        } catch (error) {\n            this.setState({ size: 0, total: 0, error });\n            return false;\n        }\n    }\n\n    filterBooks(value) {\n        if (this.state.size > 0) {\n            const ids = this.original.ids.filter(id => {\n                const book = this.state.books[id];\n                return book.year && (book.year === value || value === null);\n            });\n            this.setState({\n                ids,\n                size: ids.length,\n                current: this.state.books[ids[0]],\n                filter: value\n            });\n        }\n    }\n\n    sortBooks(order) {\n        this.setState({ order });\n        let ids = this.state.ids;\n        const books = Object.values(this.state.books).filter(book =>\n            ids.includes(book.id)\n        );\n\n        books.sort((a, b) => {\n            if (order === \"asc\") {\n                return a.year > b.year ? -1 : 1;\n            } else {\n                return a.year < b.year ? -1 : 1;\n            }\n        });\n        ids = books.map(book => book.id);\n        this.setState({ ids });\n    }\n\n    changePage(currentPage) {\n        const { term, pageSize } = this.state;\n        this.setState({ currentPage, paging: true });\n        const offset = (currentPage - 1) * pageSize;\n        const from = offset === 0 ? 0 : 1 + offset;\n        this.getBooks(term, from, pageSize).then(r => {\n            this.setState({ paging: false });\n        });\n    }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport MainPage from './MainPage/MainPage';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n          <MainPage></MainPage>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}