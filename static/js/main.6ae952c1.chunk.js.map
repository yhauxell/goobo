{"version":3,"sources":["Components/ErrorScreen/dead-error.svg","MainPage/Top/SearchBar/Search/Search.js","MainPage/Top/SearchBar/SearchBar.js","MainPage/Top/Logo/Logo.js","MainPage/MainPageContext.js","MainPage/Top/Top.js","Components/Rating/Rating.js","MainPage/Content/Sidebar/BookPreview/BookPreview.js","MainPage/Content/Sidebar/Filters/Filter/Filter.js","Components/Loader/Loader.js","MainPage/Content/Sidebar/Filters/Filters.js","MainPage/Content/Sidebar/Sidebar.js","Components/Authors/Authors.js","MainPage/Content/BooksList/Book/Book.js","Components/ErrorScreen/ErrorScreen.js","MainPage/Content/BooksList/BooksList.js","MainPage/Content/BooksToolbar/SortBy/SortBy.js","MainPage/Content/BooksToolbar/Total/Total.js","MainPage/Content/BooksToolbar/BooksToolbar.js","Components/Pagination/Pagination.js","MainPage/Content/BooksFooter/BooksFooter.js","MainPage/Content/Content.js","Api/Services/GoogleBookService.js","Components/ErrorBoundary/ErrorBoundary.js","MainPage/MainPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","term","_this2","react_default","a","createElement","className","role","aria-label","onSubmit","event","handleSubmit","title","type","spellCheck","aria-required","placeholder","value","onChange","setState","target","onKeyUp","key","searchBooks","preventDefault","Component","SearchBar","Search_Search_Search","Logo","MainPageContext","React","createContext","ids","books","size","order","filters","filter","current","pageSize","currentPage","total","paging","actions","changeCurrent","filterBooks","sortBooks","changePage","Top","Logo_Logo","MainPage_MainPageContext","Consumer","_ref","SearchBar_SearchBar_SearchBar","Rating","rating","ratingWidth","style","width","concat","aria-hidden","BookPreview","_props$current","year","thumbnail","subtitle","authors","description","previewLink","authorsList","map","author","index","tabIndex","src","window","location","href","alt","rel","arial-level","Rating_Rating","Filter","active","_this$props","f","ami","Fragment","onClick","e","Loader","message","Filters","length","Filter_Filter","assign","Sidebar","lowResDevice","matchMedia","matches","Filters_Filters","BookPreview_BookPreview","Authors","auths","details","Book","id","onSelect","Authors_Authors","ErrorScreen","image","BooksList","error","ErrorScreen_ErrorScreen","Book_Book","SortBy","Total","BooksToolbar","Total_Total","SortBy_SortBy","Pagination","pagesCount","Math","ceil","pages","_loop","curr","parseInt","push","BooksFooter","Pagination_Pagination","Content","Sidebar_Sidebar","BooksToolbar_BooksToolbar","BooksList_BooksList_BooksList","BooksFooter_BooksFooter","GoogleBookService","url","query","from","params","method","headers","Content-Type","mode","fetch","then","response","json","result","items","Error","Set","book","add","simpleBook","createSimpleBook","Array","totalItems","sort","_book$volumeInfo","volumeInfo","publishedDate","averageRating","imageLinks","smallThumbnail","split","ErrorBoundary","errorInfo","toString","children","MainPage","page","service","getBooks","Provider","Top_Top","ErrorBoundary_ErrorBoundary","Content_Content","objectSpread","original","_context","t0","values","includes","b","_this3","_this$state","r","App","MainPage_MainPage_MainPage","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6ae952c1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dead-error.d208d3f9.svg\";","import React, { Component } from \"react\";\nimport \"./Search.css\";\nexport default class Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { term: \"\" };\n    }\n    render() {\n        return (\n            <div className=\"search\">\n                <form\n                    role=\"search\"\n                    aria-label=\"Search at Google Books\"\n                    onSubmit={(event) => this.handleSubmit(event)}\n                >\n                    <input\n                        title=\"Type your search term\"\n                        className=\"search__input\"\n                        type=\"text\"\n                        spellCheck=\"false\"\n                        aria-required=\"false\"\n                        placeholder=\"Type your search term..\"\n                        value={this.state.term}\n                        onChange={event =>\n                            this.setState({ term: event.target.value })\n                        }\n                        onKeyUp={event => {\n                            if (event.key === \"Enter\") {\n                                this.handleSubmit(event);\n                            }\n                        }}\n                    />\n                    <button\n                        type=\"submit\"\n                        title=\"Press to search for books\"\n                        className=\"search__btn\"\n                    >\n                        <i className=\"fas fa-search\" />\n                    </button>\n                </form>\n            </div>\n        );\n    }\n\n    handleSubmit(event) {\n        this.props.searchBooks(this.state.term);\n        event.preventDefault();\n    }\n}\n","import React, { Component } from \"react\";\nimport Search from \"./Search/Search\";\nimport \"./SearchBar.css\";\nexport default class SearchBar extends Component {\n  render() {\n    return (\n      <div className=\"searchbar\">\n        <Search {...this.props} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Logo.css\";\nexport default function Logo() {\n  return (\n    <div className=\"logo\">\n      <i className=\"fas fa-book\" />\n       Goobo\n    </div>\n  );\n}\n","import React from \"react\";\n\nlet MainPageContext = React.createContext({\n    ids: [],\n    books: {},\n    size: 0,\n    order: \"asc\",\n    filters: [],\n    filter: null,\n    term: \"\",\n    current: null,\n    pageSize: 40,\n    currentPage: 1,\n    total: 0,\n    paging: false,\n    actions: {\n        searchBooks: () => {},\n        changeCurrent: () => {},\n        filterBooks: () => {},\n        sortBooks: () => {},\n        changePage: () => {}\n    }\n});\n\nexport default MainPageContext;\n","import React from \"react\";\nimport \"./Top.css\";\nimport SearchBar from \"./SearchBar/SearchBar\";\nimport Logo from \"./Logo/Logo\";\nimport MainPageContext from \"./../MainPageContext\";\nexport default function Top() {\n  return (\n    <div className=\"top\">\n      <Logo />\n      <MainPageContext.Consumer>\n        {({ actions: { searchBooks } }) => {\n          return <SearchBar {...{ searchBooks }} />;\n        }}\n      </MainPageContext.Consumer>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./Rating.css\";\n\nexport default function Rating(props) {\n  const { rating } = props;\n  let ratingWidth = rating ? rating * 20 : 0;\n  return (\n    <div className=\"rating\" title={'Book rating: ' + (rating ? rating : '0 ') + ' stars'}>\n      <div className=\"rating-wrap\">\n        <span className=\"stars-active\" style={{ width: `${ratingWidth}%` }}>\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n        </span>\n        <span className=\"stars-inactive\">\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n        </span>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./BookPreview.css\";\nimport Rating from \"../../../../Components/Rating/Rating\";\nexport default function BookPreview(props) {\n    if (props.current) {\n        const {\n            year,\n            thumbnail,\n            title,\n            subtitle,\n            authors,\n            description,\n            rating,\n            previewLink\n        } = props.current;\n        const authorsList =\n            authors &&\n            authors.map((author, index) => {\n                return (\n                    <div className=\"book-preview__author\" key={index}>\n                        {author}\n                    </div>\n                );\n            });\n        return (\n            <div className=\"book-preview\" tabIndex=\"0\">\n                <span className=\"book-preview__year\">{year}</span>\n                <img\n                    className=\"book-preview__preview\"\n                    src={\n                        thumbnail\n                            ? thumbnail\n                            : `${window.location.href}/notfound.png`\n                    }\n                    alt={title}\n                />\n                <span className=\"book-preview__preview-link\">\n                    <a\n                        href={previewLink}\n                        title=\"Go to preview at Google Books\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        <i className=\"fas fa-external-link-alt\" />\n                    </a>\n                </span>\n                <h1 className=\"book-preview__title\" aria-label=\"Book Title\">\n                    {title}\n                    <small arial-level=\"2\">{subtitle}</small>\n                </h1>\n                <div className=\"book-preview__authors\">{authorsList}</div>\n                <div className=\"book-preview__rating\">\n                    <Rating {...{ rating }} />\n                </div>\n                <div className=\"book-preview__description\">{description}</div>\n            </div>\n        );\n    }\n    return <p className=\"no-book-preview\">No Book Selected</p>;\n}\n","import React, { Component } from \"react\";\n\nexport default class Filter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { active: false };\n  }\n  render() {\n    const { f, ami, filterBooks } = this.props;\n    return (\n      <React.Fragment>\n        <li\n          className={\n            \"sidebar__books-filters__filter\" +\n            (ami ? \" sidebar__books-filters__filter--active\" : \"\")\n          }\n        >\n          <a\n            title={ami ? \"Click again to unselect me\" : \"Click to select me\"}\n            href=\"#click\"\n            onClick={e => {\n              const active = !(this.state.active && ami);\n              this.setState({ active });\n              e.preventDefault();\n              filterBooks(active ? f : null);\n            }}\n          >\n            {f}\n          </a>\n        </li>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react'\n\nexport default function Loader(props) {\n  return (\n    <span>\n      <i className=\"fas fa-circle-notch fa-spin\"></i> {props.message || 'Loading...'}\n    </span>\n  )\n}\n","import React from \"react\";\nimport \"./Filters.css\";\nimport Filter from \"./Filter/Filter\";\nimport Loader from \"../../../../Components/Loader/Loader\";\nexport default function Filters(props) {\n  const { filter, filters, filterBooks } = props;\n  return (\n    <div className=\"sidebar__books-filters-container\">\n      <h4 tabIndex=\"0\" aria-label=\"List with years filter, navigate with keyboard and hit neter to select one.\">\n        <i className=\"fas fa-filter\" /> Show only\n      </h4>\n      <ul className=\"sidebar__books-filters\">\n        {(filters.length >0 &&\n          filters.map(f => {\n            return (\n              <Filter key={f} {...{ f, ami: filter === f, filterBooks }} />\n            );\n          })) || <Loader message=\"Loading filters...\"/>}\n      </ul>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./Sidebar.css\";\nimport BookPreview from \"./BookPreview/BookPreview\";\nimport Filters from \"./Filters/Filters\";\nimport MainPageContext from \"../../MainPageContext\";\nexport default function Sidebar() {\n    const lowResDevice = window.matchMedia(\"(max-width: 768px)\").matches;//wont display preview is mobile device.\n    return (\n        <MainPageContext.Consumer>\n            {({ filter, filters, actions: { filterBooks }, current }) => {\n                return (\n                    <aside className=\"sidebar\">\n                        <div className=\"sidebar__books-filters-list\">\n                            <Filters {...{ filter, filters, filterBooks }} />\n                        </div>\n                        {!lowResDevice ? (\n                            <div className=\"sidebar__book-preview\">\n                                <BookPreview {...{ current }} />\n                            </div>\n                        ) : null}\n                    </aside>\n                );\n            }}\n        </MainPageContext.Consumer>\n    );\n}\n","import React from \"react\";\nimport \"./Authors.css\";\nexport default function Authors(props) {\n  const auths = props.authors;\n  let details = null;\n  if (auths && auths.length > 0) {\n    details = props.authors[0];\n    details += auths.length >=2 ? ` +${props.authors.length -1}` : \"\";\n  }\n\n  return details ? <React.Fragment>{details}</React.Fragment> : null;\n}\n","import React from \"react\";\nimport \"./Book.css\";\nimport Rating from \"../../../../Components/Rating/Rating\";\nimport Authors from \"../../../../Components/Authors/Authors\";\n\nexport default function Book(props) {\n  const { id, title, authors, year, rating, thumbnail } = props;\n  return (\n    <div className=\"book\" tabIndex=\"0\">\n      <span className=\"book__year\">{year ? year : '----'}</span>\n      <img\n        className=\"book__preview\"\n        src={thumbnail ? thumbnail : `${window.location.href}/notfound.png`}\n        alt={title}\n        onClick={() => {\n          props.onSelect(id);\n        }}\n      />\n      <h2 className=\"book__title\">{title}</h2>\n      <div className=\"book__authors\">\n        <Authors {...{ authors }} />\n      </div>\n      <div className=\"book__rating\">\n        <Rating {...{ rating }} />\n      </div>\n      <div className=\"book__footer\" />\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./ErrorScreen.css\";\nimport image from \"./dead-error.svg\";\nexport default function ErrorScreen(props) {\n    return (\n        <section className=\"error-screen\">\n            <img className=\"error-screen__img\" src={image} alt={props.message} />\n            <p>\n                {props.message} \n            </p>\n        </section>\n    );\n}\n","import React, { Component } from \"react\";\nimport Book from \"./Book/Book\";\nimport \"./BooksList.css\";\nimport Loader from \"../../../Components/Loader/Loader\";\nimport MainPageContext from \"../../MainPageContext\";\nimport ErrorScreen from \"../../../Components/ErrorScreen/ErrorScreen\";\n\nexport default class BooksList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            books: []\n        };\n    }\n\n    render() {\n        return (\n            <MainPageContext.Consumer>\n                {({ error, ids, books, total, actions: { changeCurrent } }) => {\n                    \n                    if (error) {\n                        return <ErrorScreen message={error.message}></ErrorScreen>;\n                    }\n\n                    return (\n                        <section className=\"books-list\">\n                            {total > 0 ? (\n                                ids.map(id => {\n                                    return (\n                                        <Book\n                                            key={id}\n                                            {...books[id]}\n                                            onSelect={id => changeCurrent(id)}\n                                        />\n                                    );\n                                })\n                            ) : (\n                                <Loader message=\"Searching books...\" />\n                            )}\n                        </section>\n                    );\n                }}\n            </MainPageContext.Consumer>\n        );\n    }\n}\n","import React from \"react\";\nimport \"./SortBy.css\";\nexport default function SortBy(props) {\n  const { order, sortBooks } = props;\n  return (\n    <div className=\"sort-by\">\n      <button\n        aria-label={order === \"asc\" ? 'ordered ascendant, click to order in descendant order.': 'ordered descendant, click to order in ascendant order.'}\n        className={\"sort-by__btn sort-by__btn--\" + order}\n        onClick={() => sortBooks(order === \"asc\" ? \"desc\" : \"asc\")}\n      >\n        <i className=\"fas fa-calendar-alt\"></i> {order === 'asc' ? <i className=\"fas fa-sort-amount-down\"></i> : <i className=\"fas fa-sort-amount-up\"></i>}\n      </button>\n    </div>\n  );\n}\n","import React from 'react'\nimport './Total.css';\nexport default function Total(props) {\n  return (\n      <span className=\"total\">Displaying {props.size} of {props.total} books for &nbsp;<strong>\"{props.term}\"</strong></span>\n  )\n}\n","import React from \"react\";\n\nimport MainPageContext from \"../../MainPageContext\";\nimport SortBy from \"./SortBy/SortBy\";\nimport Total from \"./Total/Total\";\nimport \"./BooksToolbar.css\";\n\nexport default function BooksToolbar() {\n  return (\n    <MainPageContext.Consumer>\n      {({ total, size, order, term, actions: { sortBooks } }) => (\n        <section className=\"books-toolbar\">\n          <Total {...{ total, size, term }} />\n          <SortBy {...{ order, sortBooks }} />\n        </section>\n      )}\n    </MainPageContext.Consumer>\n  );\n}\n","import React from \"react\";\nimport \"./Pagination.css\";\n\nexport default function Pagination(props) {\n    const { currentPage, pageSize, total, paging, changePage } = props;\n\n    const pagesCount = total > pageSize ? Math.ceil(total / pageSize) : 1;\n\n    let pages = [];\n    for (let index = 0; index < pagesCount; index++) {\n        const curr = index + 1;\n        const ami = parseInt(currentPage) === curr;\n        pages.push(\n            <li\n                onClick={() => {\n                    changePage(curr);\n                }}\n                key={curr}\n                className={\n                    \"pagination__page\" +\n                    (ami\n                        ? \" pagination__page--active\"\n                        : \"\")\n                }\n            >\n                {paging && ami ? <i className=\"fas fa-circle-notch fa-spin\" /> : curr}\n            </li>\n        );\n    }\n    return <ul className=\"pagination\">{pages}</ul>;\n}\n","import React from \"react\";\nimport \"./BooksFooter.css\";\nimport Pagination from \"../../../Components/Pagination/Pagination\";\nimport MainPageContext from \"../../MainPageContext\";\n\nexport default function BooksFooter() {\n    return (\n        <section className=\"books-footer\">\n            <div className=\"books-footer__pagination\">\n                <MainPageContext.Consumer>\n                    {({\n                        pageSize,\n                        currentPage,\n                        total,\n                        paging,\n                        actions: { changePage }\n                    }) => {\n                        return (\n                            <Pagination\n                                {...{\n                                    pageSize,\n                                    currentPage,\n                                    total,\n                                    paging,\n                                    changePage\n                                }}\n                            />\n                        );\n                    }}\n                </MainPageContext.Consumer>\n            </div>\n        </section>\n    );\n}\n","import React from \"react\";\nimport \"./Content.css\";\nimport Sidebar from \"./Sidebar/Sidebar\";\nimport BooksList from \"./BooksList/BooksList\";\nimport BooksToolbar from \"./BooksToolbar/BooksToolbar\";\nimport BooksFooter from \"./BooksFooter/BooksFooter\";\nexport default function Content() {\n  return (\n    <div className=\"content\">\n      <aside className=\"aside\">\n        <Sidebar />\n      </aside>\n      <article className=\"article\">\n        <BooksToolbar/>\n        <BooksList />\n        <BooksFooter/>\n      </article>\n    </div>\n  );\n}\n","export default class GoogleBookService {\n    constructor() {\n        this.url = \"https://www.googleapis.com/books/v1/volumes?q=\";\n    }\n\n    async getBooks(query, from=0, size=40) {\n        const params = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            mode: \"cors\"\n        };\n        const result = await fetch(\n            `${this.url}${query}&maxResults=${size}&orderBy=newest&startIndex=${from}`, params\n        ).then(response => {\n            return response.json();\n        });\n\n        if(!result.items || result.items.length === 0){\n            throw new Error(\"No books found, try with another search term.\");\n        }\n\n        let books = {};\n        let ids = new Set();\n        let filters = new Set();\n        for (let index = 0; index < result.items.length; index++) {\n            const book = result.items[index];\n            const id = book.id;\n            ids.add(id);\n            const simpleBook = this.createSimpleBook(book);\n            if (simpleBook.year) {\n                filters.add(simpleBook.year);\n            }\n            books[id] = simpleBook;\n        }\n        ids = Array.from(ids);\n        return {\n            ids,\n            books,\n            size: ids.length,\n            total: result.totalItems,\n            filters: Array.from(filters).sort(),\n            current: books[ids[0]]\n        };\n    }\n\n    createSimpleBook(book) {\n        const {\n            id,\n            volumeInfo: {\n                title,\n                subtitle,\n                authors,\n                description,\n                publishedDate,\n                averageRating: rating,\n                imageLinks,\n                previewLink\n            }\n        } = book;\n\n        let thumbnail = imageLinks ? imageLinks.smallThumbnail : null;\n\n        return {\n            id,\n            title,\n            subtitle,\n            authors,\n            description,\n            year: publishedDate && publishedDate.split(\"-\")[0],\n            rating,\n            thumbnail,\n            previewLink\n        };\n    }\n}\n","import React, { Component } from \"react\";\nimport ErrorScreen from \"../ErrorScreen/ErrorScreen\";\n\nexport default class ErrorBoundary extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { error: null, errorInfo: null };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            error: error,\n            errorInfo: errorInfo\n        });\n    }\n\n    render() {\n        if (this.state.errorInfo) {\n            return (\n                <ErrorScreen\n                    message={this.state.error && this.state.error.toString()}\n                />\n            );\n        }\n        return this.props.children;\n    }\n}\n","import React, { Component } from \"react\";\nimport \"./MainPage.css\";\nimport Top from \"./Top/Top\";\nimport Content from \"./Content/Content\";\nimport GoogleBookService from \"../Api/Services/GoogleBookService\";\nimport MainPageContext from \"./MainPageContext\";\nimport ErrorBoundary from \"./../Components/ErrorBoundary/ErrorBoundary\";\nexport default class MainPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ids: [],\n            books: {},\n            size: 0,\n            order: \"asc\",\n            filters: [],\n            filter: null,\n            term: \"game of thrones\",\n            current: null,\n            pageSize: 40,\n            currentPage: 1,\n            total: 0,\n            paging: false,\n            actions: {\n                searchBooks: term => this.searchBooks(term),\n                changeCurrent: id => this.changeCurrent(id),\n                filterBooks: year => this.filterBooks(year),\n                sortBooks: order => this.sortBooks(order),\n                changePage: page => this.changePage(page)\n            },\n            error: null\n        };\n        this.service = new GoogleBookService();\n    }\n\n    componentDidMount() {\n        this.getBooks(this.state.term);\n    }\n    render() {\n        return (\n            <main className=\"main-page\">\n                <MainPageContext.Provider value={this.state}>\n                    <Top />\n                    <ErrorBoundary>\n                        <Content />\n                    </ErrorBoundary>\n                </MainPageContext.Provider>\n            </main>\n        );\n    }\n\n    changeCurrent(id) {\n        this.setState({ current: this.state.books[id] });\n    }\n\n    searchBooks(term) {\n        this.setState({currentPage: 1});\n        this.getBooks(term);\n    }\n\n    async getBooks(term, from = 0, size = 40) {\n        if (!term) {\n            this.setState({\n                size: 0,\n                error: { message: \"Search term can not be empty.\" }\n            });\n            return;\n        }\n        this.setState({ term, error: null });\n        try {\n            const result = await this.service.getBooks(term, from, size);\n            this.setState({ ...result });\n            this.original = { ids: result.ids };\n            return true;\n        } catch (error) {\n            this.setState({ size: 0, total: 0, error });\n            return false;\n        }\n    }\n\n    filterBooks(value) {\n        if (this.state.size > 0) {\n            const ids = this.original.ids.filter(id => {\n                const book = this.state.books[id];\n                return book.year && (book.year === value || value === null);\n            });\n            this.setState({\n                ids,\n                size: ids.length,\n                current: this.state.books[ids[0]],\n                filter: value\n            });\n        }\n    }\n\n    sortBooks(order) {\n        this.setState({ order });\n        let ids = this.state.ids;\n        const books = Object.values(this.state.books).filter(book =>\n            ids.includes(book.id)\n        );\n\n        books.sort((a, b) => {\n            if (order === \"asc\") {\n                return a.year > b.year ? -1 : 1;\n            } else {\n                return a.year < b.year ? -1 : 1;\n            }\n        });\n        ids = books.map(book => book.id);\n        this.setState({ ids });\n    }\n\n    changePage(currentPage) {\n        const { term, pageSize } = this.state;\n        this.setState({ currentPage, paging: true });\n        this.getBooks(term, (currentPage - 1) * pageSize, pageSize).then(r => {\n            this.setState({ paging: false });\n        });\n    }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport MainPage from './MainPage/MainPage';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n          <MainPage></MainPage>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}