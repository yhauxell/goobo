{"version":3,"sources":["Components/ErrorScreen/dead-error.svg","MainPage/Top/SearchBar/Search/Search.js","MainPage/Top/SearchBar/SearchBar.js","MainPage/Top/Logo/Logo.js","MainPage/MainPageContext.js","MainPage/Top/Top.js","Components/Rating/Rating.js","MainPage/Content/Sidebar/BookPreview/BookPreview.js","MainPage/Content/Sidebar/Filters/Filter/Filter.js","Components/Loader/Loader.js","MainPage/Content/Sidebar/Filters/Filters.js","MainPage/Content/Sidebar/Sidebar.js","Components/Authors/Authors.js","MainPage/Content/BooksList/Book/Book.js","Components/ErrorScreen/ErrorScreen.js","MainPage/Content/BooksList/BooksList.js","MainPage/Content/BooksToolbar/SortBy/SortBy.js","MainPage/Content/BooksToolbar/Total/Total.js","MainPage/Content/BooksToolbar/BooksToolbar.js","Components/Pagination/Pagination.js","MainPage/Content/BooksFooter/BooksFooter.js","MainPage/Content/Content.js","Api/Services/GoogleBookService.js","Components/ErrorBoundary/ErrorBoundary.js","MainPage/MainPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","term","_this2","react_default","a","createElement","className","role","aria-label","onSubmit","event","handleSubmit","title","type","spellCheck","aria-required","placeholder","value","onChange","setState","target","onKeyUp","key","getBooks","preventDefault","Component","SearchBar","Search_Search_Search","Logo","MainPageContext","React","createContext","ids","books","size","total","order","filters","filter","current","actions","changeCurrent","filterBooks","sortBooks","Top","Logo_Logo","MainPage_MainPageContext","Consumer","_ref","SearchBar_SearchBar_SearchBar","Rating","rating","ratingWidth","style","width","concat","aria-hidden","BookPreview","_props$current","year","thumbnail","subtitle","authors","description","previewLink","authorsList","map","author","index","tabIndex","src","window","location","href","alt","rel","arial-level","Rating_Rating","Filter","active","_this$props","f","ami","Fragment","onClick","e","Loader","message","Filters","length","Filter_Filter","assign","Sidebar","lowResDevice","matchMedia","matches","Filters_Filters","BookPreview_BookPreview","Authors","auths","details","Book","id","onSelect","Authors_Authors","ErrorScreen","image","BooksList","error","ErrorScreen_ErrorScreen","Book_Book","SortBy","Total","BooksToolbar","Total_Total","SortBy_SortBy","Pagination","currentPage","pageSize","paging","changePage","pagesCount","Math","ceil","pages","_loop","curr","parseInt","push","BooksFooter","Pagination_Pagination","Content","Sidebar_Sidebar","BooksToolbar_BooksToolbar","BooksList_BooksList_BooksList","BooksFooter_BooksFooter","GoogleBookService","url","query","from","params","method","headers","Content-Type","mode","fetch","then","response","json","result","items","Error","Set","book","add","simpleBook","createSimpleBook","Array","totalItems","sort","_book$volumeInfo","volumeInfo","publishedDate","averageRating","imageLinks","smallThumbnail","split","ErrorBoundary","errorInfo","toString","children","MainPage","page","service","Provider","Top_Top","ErrorBoundary_ErrorBoundary","Content_Content","objectSpread","original","_context","t0","values","includes","b","_this3","_this$state","r","App","MainPage_MainPage_MainPage","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f008c15f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dead-error.d208d3f9.svg\";","import React, { Component } from \"react\";\nimport \"./Search.css\";\nexport default class Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { term: \"\" };\n    }\n    render() {\n        return (\n            <div className=\"search\">\n                <form\n                    role=\"search\"\n                    aria-label=\"Search at Google Books\"\n                    onSubmit={(event) => this.handleSubmit(event)}\n                >\n                    <input\n                        title=\"Type your search term\"\n                        className=\"search__input\"\n                        type=\"text\"\n                        spellCheck=\"false\"\n                        aria-required=\"false\"\n                        placeholder=\"Type your search term..\"\n                        value={this.state.term}\n                        onChange={event =>\n                            this.setState({ term: event.target.value })\n                        }\n                        onKeyUp={event => {\n                            if (event.key === \"Enter\") {\n                                this.handleSubmit(event);\n                            }\n                        }}\n                    />\n                    <button\n                        type=\"submit\"\n                        title=\"Press to search for books\"\n                        className=\"search__btn\"\n                    >\n                        <i className=\"fas fa-search\" />\n                    </button>\n                </form>\n            </div>\n        );\n    }\n\n    handleSubmit(event) {\n        this.props.getBooks(this.state.term);\n        event.preventDefault();\n    }\n}\n","import React, { Component } from \"react\";\nimport Search from \"./Search/Search\";\nimport \"./SearchBar.css\";\nexport default class SearchBar extends Component {\n  render() {\n    return (\n      <div className=\"searchbar\">\n        <Search {...this.props} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Logo.css\";\nexport default function Logo() {\n  return (\n    <div className=\"logo\">\n      <i className=\"fas fa-book\" />\n       Goobo\n    </div>\n  );\n}\n","import React from \"react\";\n\nlet MainPageContext = React.createContext({\n  ids: [],\n  books: {},\n  size: 0,\n  total: 0,\n  order: \"asc\",\n  filters: [],\n  filter: null,\n  term: \"\",\n  current: null,\n  actions: {\n    getBooks: () => {},\n    changeCurrent: () => {},\n    filterBooks: () => {},\n    sortBooks: () => {},\n  }\n});\n\nexport default MainPageContext;\n","import React from \"react\";\nimport \"./Top.css\";\nimport SearchBar from \"./SearchBar/SearchBar\";\nimport Logo from \"./Logo/Logo\";\nimport MainPageContext from \"./../MainPageContext\";\nexport default function Top() {\n  return (\n    <div className=\"top\">\n      <Logo />\n      <MainPageContext.Consumer>\n        {({ actions: { getBooks } }) => {\n          return <SearchBar {...{ getBooks }} />;\n        }}\n      </MainPageContext.Consumer>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./Rating.css\";\n\nexport default function Rating(props) {\n  const { rating } = props;\n  let ratingWidth = rating ? rating * 20 : 0;\n  return (\n    <div className=\"rating\" title={'Book rating: ' + (rating ? rating : '0 ') + ' stars'}>\n      <div className=\"rating-wrap\">\n        <span className=\"stars-active\" style={{ width: `${ratingWidth}%` }}>\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n        </span>\n        <span className=\"stars-inactive\">\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n          <i className=\"fa fa-star\" aria-hidden=\"true\" />\n        </span>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./BookPreview.css\";\nimport Rating from \"../../../../Components/Rating/Rating\";\nexport default function BookPreview(props) {\n    if (props.current) {\n        const {\n            year,\n            thumbnail,\n            title,\n            subtitle,\n            authors,\n            description,\n            rating,\n            previewLink\n        } = props.current;\n        const authorsList =\n            authors &&\n            authors.map((author, index) => {\n                return (\n                    <div className=\"book-preview__author\" key={index}>\n                        {author}\n                    </div>\n                );\n            });\n        return (\n            <div className=\"book-preview\" tabIndex=\"0\">\n                <span className=\"book-preview__year\">{year}</span>\n                <img\n                    className=\"book-preview__preview\"\n                    src={\n                        thumbnail\n                            ? thumbnail\n                            : `${window.location.href}/notfound.png`\n                    }\n                    alt={title}\n                />\n                <span className=\"book-preview__preview-link\">\n                    <a\n                        href={previewLink}\n                        title=\"Go to preview at Google Books\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        <i className=\"fas fa-external-link-alt\" />\n                    </a>\n                </span>\n                <h1 className=\"book-preview__title\" aria-label=\"Book Title\">\n                    {title}\n                    <small arial-level=\"2\">{subtitle}</small>\n                </h1>\n                <div className=\"book-preview__authors\">{authorsList}</div>\n                <div className=\"book-preview__rating\">\n                    <Rating {...{ rating }} />\n                </div>\n                <div className=\"book-preview__description\">{description}</div>\n            </div>\n        );\n    }\n    return <p className=\"no-book-preview\">No Book Selected</p>;\n}\n","import React, { Component } from \"react\";\n\nexport default class Filter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { active: false };\n  }\n  render() {\n    const { f, ami, filterBooks } = this.props;\n    return (\n      <React.Fragment>\n        <li\n          className={\n            \"sidebar__books-filters__filter\" +\n            (ami ? \" sidebar__books-filters__filter--active\" : \"\")\n          }\n        >\n          <a\n            title={ami ? \"Click again to unselect me\" : \"Click to select me\"}\n            href=\"#click\"\n            onClick={e => {\n              const active = !(this.state.active && ami);\n              this.setState({ active });\n              e.preventDefault();\n              filterBooks(active ? f : null);\n            }}\n          >\n            {f}\n          </a>\n        </li>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react'\n\nexport default function Loader(props) {\n  return (\n    <span>\n      <i className=\"fas fa-circle-notch fa-spin\"></i> {props.message || 'Loading...'}\n    </span>\n  )\n}\n","import React from \"react\";\nimport \"./Filters.css\";\nimport Filter from \"./Filter/Filter\";\nimport Loader from \"../../../../Components/Loader/Loader\";\nexport default function Filters(props) {\n  const { filter, filters, filterBooks } = props;\n  return (\n    <div className=\"sidebar__books-filters-container\">\n      <h4 tabIndex=\"0\" aria-label=\"List with years filter, navigate with keyboard and hit neter to select one.\">\n        <i className=\"fas fa-filter\" /> Show only\n      </h4>\n      <ul className=\"sidebar__books-filters\">\n        {(filters.length >0 &&\n          filters.map(f => {\n            return (\n              <Filter key={f} {...{ f, ami: filter === f, filterBooks }} />\n            );\n          })) || <Loader message=\"Loading filters...\"/>}\n      </ul>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./Sidebar.css\";\nimport BookPreview from \"./BookPreview/BookPreview\";\nimport Filters from \"./Filters/Filters\";\nimport MainPageContext from \"../../MainPageContext\";\nexport default function Sidebar() {\n    const lowResDevice = window.matchMedia(\"(max-width: 768px)\").matches;//wont display preview is mobile device.\n    return (\n        <MainPageContext.Consumer>\n            {({ filter, filters, actions: { filterBooks }, current }) => {\n                return (\n                    <aside className=\"sidebar\">\n                        <div className=\"sidebar__books-filters-list\">\n                            <Filters {...{ filter, filters, filterBooks }} />\n                        </div>\n                        {!lowResDevice ? (\n                            <div className=\"sidebar__book-preview\">\n                                <BookPreview {...{ current }} />\n                            </div>\n                        ) : null}\n                    </aside>\n                );\n            }}\n        </MainPageContext.Consumer>\n    );\n}\n","import React from \"react\";\nimport \"./Authors.css\";\nexport default function Authors(props) {\n  const auths = props.authors;\n  let details = null;\n  if (auths && auths.length > 0) {\n    details = props.authors[0];\n    details += auths.length >=2 ? ` +${props.authors.length -1}` : \"\";\n  }\n\n  return details ? <React.Fragment>{details}</React.Fragment> : null;\n}\n","import React from \"react\";\nimport \"./Book.css\";\nimport Rating from \"../../../../Components/Rating/Rating\";\nimport Authors from \"../../../../Components/Authors/Authors\";\n\nexport default function Book(props) {\n  const { id, title, authors, year, rating, thumbnail } = props;\n  return (\n    <div className=\"book\" tabIndex=\"0\">\n      <span className=\"book__year\">{year ? year : '----'}</span>\n      <img\n        className=\"book__preview\"\n        src={thumbnail ? thumbnail : `${window.location.href}/notfound.png`}\n        alt={title}\n        onClick={() => {\n          props.onSelect(id);\n        }}\n      />\n      <h2 className=\"book__title\">{title}</h2>\n      <div className=\"book__authors\">\n        <Authors {...{ authors }} />\n      </div>\n      <div className=\"book__rating\">\n        <Rating {...{ rating }} />\n      </div>\n      <div className=\"book__footer\" />\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./ErrorScreen.css\";\nimport image from \"./dead-error.svg\";\nexport default function ErrorScreen(props) {\n    return (\n        <section className=\"error-screen\">\n            <img className=\"error-screen__img\" src={image} alt={props.message} />\n            <p>\n                {props.message} \n            </p>\n        </section>\n    );\n}\n","import React, { Component } from \"react\";\nimport Book from \"./Book/Book\";\nimport \"./BooksList.css\";\nimport Loader from \"../../../Components/Loader/Loader\";\nimport MainPageContext from \"../../MainPageContext\";\nimport ErrorScreen from \"../../../Components/ErrorScreen/ErrorScreen\";\n\nexport default class BooksList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            books: []\n        };\n    }\n\n    render() {\n        return (\n            <MainPageContext.Consumer>\n                {({ error, ids, books, total, actions: { changeCurrent } }) => {\n                    \n                    if (error) {\n                        return <ErrorScreen message={error.message}></ErrorScreen>;\n                    }\n\n                    return (\n                        <section className=\"books-list\">\n                            {total > 0 ? (\n                                ids.map(id => {\n                                    return (\n                                        <Book\n                                            key={id}\n                                            {...books[id]}\n                                            onSelect={id => changeCurrent(id)}\n                                        />\n                                    );\n                                })\n                            ) : (\n                                <Loader message=\"Searching books...\" />\n                            )}\n                        </section>\n                    );\n                }}\n            </MainPageContext.Consumer>\n        );\n    }\n}\n","import React from \"react\";\nimport \"./SortBy.css\";\nexport default function SortBy(props) {\n  const { order, sortBooks } = props;\n  return (\n    <div className=\"sort-by\">\n      <button\n        aria-label={order === \"asc\" ? 'ordered ascendant, click to order in descendant order.': 'ordered descendant, click to order in ascendant order.'}\n        className={\"sort-by__btn sort-by__btn--\" + order}\n        onClick={() => sortBooks(order === \"asc\" ? \"desc\" : \"asc\")}\n      >\n        <i className=\"fas fa-calendar-alt\"></i> {order === 'asc' ? <i className=\"fas fa-sort-amount-down\"></i> : <i className=\"fas fa-sort-amount-up\"></i>}\n      </button>\n    </div>\n  );\n}\n","import React from 'react'\nimport './Total.css';\nexport default function Total(props) {\n  return (\n      <span className=\"total\">Displaying {props.size} of {props.total} books for &nbsp;<strong>\"{props.term}\"</strong></span>\n  )\n}\n","import React from \"react\";\n\nimport MainPageContext from \"../../MainPageContext\";\nimport SortBy from \"./SortBy/SortBy\";\nimport Total from \"./Total/Total\";\nimport \"./BooksToolbar.css\";\n\nexport default function BooksToolbar() {\n  return (\n    <MainPageContext.Consumer>\n      {({ total, size, order, term, actions: { sortBooks } }) => (\n        <section className=\"books-toolbar\">\n          <Total {...{ total, size, term }} />\n          <SortBy {...{ order, sortBooks }} />\n        </section>\n      )}\n    </MainPageContext.Consumer>\n  );\n}\n","import React from \"react\";\nimport \"./Pagination.css\";\n\nexport default function Pagination(props) {\n    const { currentPage, pageSize, total, paging, changePage } = props;\n\n    const pagesCount = total > pageSize ? Math.ceil(total / pageSize) : 1;\n\n    let pages = [];\n    for (let index = 0; index < pagesCount; index++) {\n        const curr = index + 1;\n        const ami = parseInt(currentPage) === curr;\n        pages.push(\n            <li\n                onClick={() => {\n                    changePage(curr);\n                }}\n                key={curr}\n                className={\n                    \"pagination__page\" +\n                    (ami\n                        ? \" pagination__page--active\"\n                        : \"\")\n                }\n            >\n                {paging && ami ? <i className=\"fas fa-circle-notch fa-spin\" /> : curr}\n            </li>\n        );\n    }\n    return <ul className=\"pagination\">{pages}</ul>;\n}\n","import React from \"react\";\nimport \"./BooksFooter.css\";\nimport Pagination from \"../../../Components/Pagination/Pagination\";\nimport MainPageContext from \"../../MainPageContext\";\n\nexport default function BooksFooter() {\n    return (\n        <section className=\"books-footer\">\n            <div className=\"books-footer__pagination\">\n                <MainPageContext.Consumer>\n                    {({\n                        pageSize,\n                        currentPage,\n                        total,\n                        paging,\n                        actions: { changePage }\n                    }) => {\n                        return (\n                            <Pagination\n                                {...{\n                                    pageSize,\n                                    currentPage,\n                                    total,\n                                    paging,\n                                    changePage\n                                }}\n                            />\n                        );\n                    }}\n                </MainPageContext.Consumer>\n            </div>\n        </section>\n    );\n}\n","import React from \"react\";\nimport \"./Content.css\";\nimport Sidebar from \"./Sidebar/Sidebar\";\nimport BooksList from \"./BooksList/BooksList\";\nimport BooksToolbar from \"./BooksToolbar/BooksToolbar\";\nimport BooksFooter from \"./BooksFooter/BooksFooter\";\nexport default function Content() {\n  return (\n    <div className=\"content\">\n      <aside className=\"aside\">\n        <Sidebar />\n      </aside>\n      <article className=\"article\">\n        <BooksToolbar/>\n        <BooksList />\n        <BooksFooter/>\n      </article>\n    </div>\n  );\n}\n","export default class GoogleBookService {\n    constructor() {\n        this.url = \"https://www.googleapis.com/books/v1/volumes?q=\";\n    }\n\n    async getBooks(query, from=0, size=40) {\n        const params = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            mode: \"cors\"\n        };\n        const result = await fetch(\n            `${this.url}${query}&maxResults=${size}&orderBy=newest&startIndex=${from}`, params\n        ).then(response => {\n            return response.json();\n        });\n\n        if(!result.items || result.items.length === 0){\n            throw new Error(\"No books found, try with another search term.\");\n        }\n\n        let books = {};\n        let ids = new Set();\n        let filters = new Set();\n        for (let index = 0; index < result.items.length; index++) {\n            const book = result.items[index];\n            const id = book.id;\n            ids.add(id);\n            const simpleBook = this.createSimpleBook(book);\n            if (simpleBook.year) {\n                filters.add(simpleBook.year);\n            }\n            books[id] = simpleBook;\n        }\n        ids = Array.from(ids);\n        return {\n            ids,\n            books,\n            size: ids.length,\n            total: result.totalItems,\n            filters: Array.from(filters).sort(),\n            current: books[ids[0]]\n        };\n    }\n\n    createSimpleBook(book) {\n        const {\n            id,\n            volumeInfo: {\n                title,\n                subtitle,\n                authors,\n                description,\n                publishedDate,\n                averageRating: rating,\n                imageLinks,\n                previewLink\n            }\n        } = book;\n\n        let thumbnail = imageLinks ? imageLinks.smallThumbnail : null;\n\n        return {\n            id,\n            title,\n            subtitle,\n            authors,\n            description,\n            year: publishedDate && publishedDate.split(\"-\")[0],\n            rating,\n            thumbnail,\n            previewLink\n        };\n    }\n}\n","import React, { Component } from \"react\";\nimport ErrorScreen from \"../ErrorScreen/ErrorScreen\";\n\nexport default class ErrorBoundary extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { error: null, errorInfo: null };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            error: error,\n            errorInfo: errorInfo\n        });\n    }\n\n    render() {\n        if (this.state.errorInfo) {\n            return (\n                <ErrorScreen\n                    message={this.state.error && this.state.error.toString()}\n                />\n            );\n        }\n        return this.props.children;\n    }\n}\n","import React, { Component } from \"react\";\nimport \"./MainPage.css\";\nimport Top from \"./Top/Top\";\nimport Content from \"./Content/Content\";\nimport GoogleBookService from \"../Api/Services/GoogleBookService\";\nimport MainPageContext from \"./MainPageContext\";\nimport ErrorBoundary from \"./../Components/ErrorBoundary/ErrorBoundary\";\nexport default class MainPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ids: [],\n            books: {},\n            size: 0,\n            order: \"asc\",\n            filters: [],\n            filter: null,\n            term: \"game of thrones\",\n            current: null,\n            pageSize: 40,\n            currentPage: 1,\n            total: 0,\n            paging: false,\n            actions: {\n                getBooks: term => this.getBooks(term),\n                changeCurrent: id => this.changeCurrent(id),\n                filterBooks: year => this.filterBooks(year),\n                sortBooks: order => this.sortBooks(order),\n                changePage: page => this.changePage(page)\n            },\n            error: null\n        };\n        this.service = new GoogleBookService();\n    }\n\n    componentDidMount() {\n        this.getBooks(this.state.term);\n    }\n    render() {\n        return (\n            <main className=\"main-page\">\n                <MainPageContext.Provider value={this.state}>\n                    <Top />\n                    <ErrorBoundary>\n                        <Content />\n                    </ErrorBoundary>\n                </MainPageContext.Provider>\n            </main>\n        );\n    }\n\n    changeCurrent(id) {\n        this.setState({ current: this.state.books[id] });\n    }\n\n    async getBooks(term, from = 0, size = 40) {\n        if (!term) {\n            this.setState({\n                size: 0,\n                error: { message: \"Search term can not be empty.\" }\n            });\n            return;\n        }\n        this.setState({ term, error: null });\n        try {\n            const result = await this.service.getBooks(term, from, size);\n            this.setState({ ...result });\n            this.original = { ids: result.ids };\n            return true;\n        } catch (error) {\n            this.setState({ size: 0, total: 0, error });\n            return false;\n        }\n    }\n\n    filterBooks(value) {\n        if (this.state.size > 0) {\n            const ids = this.original.ids.filter(id => {\n                const book = this.state.books[id];\n                return book.year && (book.year === value || value === null);\n            });\n            this.setState({\n                ids,\n                size: ids.length,\n                current: this.state.books[ids[0]],\n                filter: value\n            });\n        }\n    }\n\n    sortBooks(order) {\n        this.setState({ order });\n        let ids = this.state.ids;\n        const books = Object.values(this.state.books).filter(book =>\n            ids.includes(book.id)\n        );\n\n        books.sort((a, b) => {\n            if (order === \"asc\") {\n                return a.year > b.year ? -1 : 1;\n            } else {\n                return a.year < b.year ? -1 : 1;\n            }\n        });\n        ids = books.map(book => book.id);\n        this.setState({ ids });\n    }\n\n    changePage(currentPage) {\n        const { term, pageSize } = this.state;\n        this.setState({ currentPage, paging: true });\n        this.getBooks(term, (currentPage - 1) * pageSize, pageSize).then(r => {\n            this.setState({ paging: false });\n        });\n    }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport MainPage from './MainPage/MainPage';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n          <MainPage></MainPage>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}